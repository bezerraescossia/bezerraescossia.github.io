<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd"> <html><body> <h4>Projeto desenvolvido por Rafael Bezerra da Escóssia Araújo</h4> <p>Nessa página você encontrará um estudo de caso, sugerido pelo Prof. Ivanovitch Silva, docente da disciplina “IMD1115 — Análise de Redes”, matéria integrante do curso Ciência de Dados na Universidade Federal do Rio Grande do Norte (UFRN).</p> <h3>1. Contextualização</h3> <p>O Twitter é uma rede social em que os usuários interagem entre si por meio de tweets, que são mensagens limitadas a 140 carácteres. Nesse cenário, a rede é a queridinha dos formadores de opinião e por leitores ávidos que buscam absorver opiniões de autoridades ou que buscam, simplesmente, manter-se informados.</p> <p>Com isso em mente, e, lembrando que esse ano (2022) é ano de eleições presidenciais. iremos gerar, nesse trabalho, uma rede de retweets entre usuários que abordam o tema das eleições 2022. Dessa forma, será possível obter insights interessantes sobre os influenciadores do cenário político no Brasil.</p> <p>Para esclarecer melhor, uma rede de retweets é a rede gerada por pessoas que retweetaram outros usuários. Por exemplo, imagine que um usuário <a href="http://twitter.com/Luiz" rel="external nofollow noopener" target="_blank">@Luiz</a> retweetou sete tweets da usuária <a href="http://twitter.com/Maria" rel="external nofollow noopener" target="_blank">@Maria</a>. Essa relação pode ser representada pelo seguinte grafo.</p> <figure><img alt="" src="https://cdn-images-1.medium.com/max/475/1*5zdVZ3X9L4GOZmen0WJf7g.png"><figcaption>Fig. 1</figcaption></figure> <p>Perceba que estamos modelando uma rede direcionada e ponderada, ou seja, a quantidade de retweets gera o peso da relação e a relação de quem retweetou e quem foi retweetado forma o direcionamento do grafo. Além disso, em nossa modelagem, eliminaremos os selfloops, ou seja, as pessoas que retweetam o próprio tweet.</p> <h3>2. Objetivos</h3> <p>- Coletar dados de pelo menos 1 semana<br>- Realizar uma Análise Exploratória dos Dados<br>- Gerar rede de retweets sobre o tópico “eleições2022”<br>- Analisar a rede</p> <h3>3. Escopo do Projeto</h3> <p>Antes de colocar a “mão na massa”, é importante gerar uma estratégia de como chegaremos aos nossos objetivos, partindo de um ponto inicial.</p> <p>De uma forma geral, os passos são simples:</p> <figure><img alt="" src="https://cdn-images-1.medium.com/max/985/1*f2jWGdMXr_OyxiyhCGGxXg.png"><figcaption>Fig. 2</figcaption></figure> <p>Como sabemos, nossos dados estão armazenados na plataforma do Twitter. Portanto, o primeiro passo é extrair essas informações do servidor da rede social. Nessa primeira atividade, iremos utilizar duas ferramentas preciosas para esse trabalho:</p> <p>- API Twitter Developer<br>- Twython</p> <p>A primeira é a API disponibilizada pelo Twitter, é ela quem gerencia as requisições e permite que ocorra a extração dos dados da plataforma para nossa máquina. E, a segunda ferramenta, é o Twython que é uma biblioteca que facilita a integração do Python com a API.</p> <p>Com os dados extraídos e armazenados em máquina local, iniciaremos o processo de construção do grafo, para, finalmente, analisarmos as informações e gerarmos insights sobre a rede.</p> <h3>4. Conectando-se a API</h3> <p>Antes de tudo, precisamos ter acesso a API do Twitter Developer. Para isso, é necessário aplicar-se ao acesso (esse processo pode durar alguns dias, até que aprovem seu acesso). Primeiramente, é necessário ter uma conta no twitter, logar-se e preencher todo o formulário de “inscrição” da ferramenta, dependendo de sua finalidade, a API possuirá limitações diferentes.</p> <p>No caso desse projeto, que possui fins didáticos, as limitações são maiores, é um ponto que deve ser considerado no desenvolvimento do projeto.</p> <p>Feito isso, e, após a aprovação, criamos um projeto. Nesse momento, a plataforma irá gerar chaves e tokens. É importante anotar essas chaves de acesso, pois só será possível visualiza-las nesse momento.</p> <blockquote>Recomendação de leitura “<a href="https://medium.com/programadores-ajudando-programadores/api-do-twitter-criando-o-app-e-obtendo-os-tokens-28ef3e2a281c" rel="external nofollow noopener" target="_blank">API do Twitter: criando a conta de desenvolvedor e obtendo os tokens</a>"</blockquote> <h3>5. Extração dos Dados</h3> <p>Feito o passo acima, é o momento de começarmos os scripts em Python. O primeiro de todos será o script responsável pela ingestão dos dados.</p> <p>Nesse processo, utilizamos bastante a biblioteca do Twython, uma vez que ela traz muitas facilidades na integração com a API do Twitter</p> <p>Um ponto importante a ser abordado, como dito anteriormente, são as limitações impostas pela API. Nesse projeto, foi utilizado uma conta de estudante e, portanto, são impostas limitações consideráveis na sua utilização.</p> <p>Sabendo disso, foi necessário pensar em uma estratégia para extrair de uma maneira simples 7 dias de dados sem “topar” as requisições. Foi percebido que a grande maioria das limitações gira em torno de 15 requisições a cada 15 minutos. O que dificulta bastante a coleta em nosso propósito.</p> <p>Entretanto, para buscas “twitter.search()” são possíveis 180 requisições, o que permite a coleta de dados dos 7 dias propostos no objetivo desse trabalho de uma única vez. O lado negativo dessa estratégia é que os arquivos JSON coletados trazem muitas informações, incluindo várias que serão irrelevantes ao nosso estudo.</p> <p>Os 7 dias de extração dos dados foi de 31/01/2022 até 06/02/2022.</p> <blockquote>Observe o script python para extração: <a href="https://github.com/bezerraescossia/network-analysis/blob/main/extract.py" rel="external nofollow noopener" target="_blank">extract.py</a> </blockquote> <blockquote>Conjunto de arquivos coletados: <a href="https://github.com/bezerraescossia/network-analysis/tree/main/datalake" rel="external nofollow noopener" target="_blank">datalake</a> </blockquote> <h3>6. Análise Exploratória de Dados</h3> <p>Como nosso <em>datalake</em> constituído, foi feito uma análise exploratória de dados inicial. A partir dela foi possível ter uma boa visão geral sobre o que estamos trabalhando e tirar alguns *insights* importantes dos dados.</p> <p>Algumas perguntas foram levantadas previamente, a fim de conduzir as etapas desse processo. As perguntas foram:</p> <p>- Quais são os Twitters com mais retweeters?<br>- Quais são os Twitters com mais retweets?<br>- Quais os Tweets mais retweetados?<br>- A quantidade de seguidores tem influência na quantidade de Retweets?</p> <p>Perceba a diferença sutil entre as perguntas.</p> <p><strong>Twitters</strong> são os usuários da plataforma, <strong>retweeteers</strong> são os usuários que retweetaram outro usuários. E, <strong>Tweets</strong>, por sua vez, são as mensagens escritas pelos usuários.</p> <p>Portanto, diferentemente da segunda pergunta, que pretende-se saber os usuários com mais <strong>mensagens </strong>retweetadas, na primeira pergunta, estamos interessados em saber quais são os <strong>usuários</strong> com a maior quantidade de usuários que o retweetaram (talvez o nó mais influente na rede).</p> <p>Veja abaixo as respostas para as perguntas acima realizadas:</p> <figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*0crS98Ehe_ZtOyZm0q_Nwg.png"><figcaption>Fig. 3</figcaption></figure> <figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*vS-i2_GNj7xWHwx9p1o6wg.png"><figcaption>Fig. 4</figcaption></figure> <figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*1b-6qRjGi0KQrTYV7nU2TA.png"><figcaption>Fig. 5</figcaption></figure> <figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*IfmmPX-iyNBPYqVJlDZbTg.png"><figcaption>Fig. 6</figcaption></figure> <p>É importante lembrar ainda que esses dados foram retirados entre datas específicas, portanto essas respostas valem para as datas já informadas.</p> <p>Para o gráfico da fig. 5, foi informado somente o ID do texto, por questão estética do gráfico. Entretanto, para ler o conteúdo das mensagens acesse o <a href="https://github.com/bezerraescossia/network-analysis/blob/main/tweets.csv" rel="external nofollow noopener" target="_blank">arquivo CSV</a> gerado.</p> <p>Além disso, vale comentar o gráfico da fig. 6, é perceptível uma relação entre a quantidade de seguidores e a quantidade de retweets que o usuário recebe. Porém, perceba que essa correlação não é tão forte, quanto imaginado.</p> <blockquote>Visualize o código através do <a href="https://colab.research.google.com/github/bezerraescossia/network-analysis/blob/main/EDA.ipynb" rel="external nofollow noopener" target="_blank">repositório</a> ou execute você mesmo pelo <a href="https://colab.research.google.com/github/bezerraescossia/network_analysis/blob/main/EDA.ipynb" rel="external nofollow noopener" target="_blank">Colab</a> </blockquote> <h3>7. Analises da Rede</h3> <p>Nessa etapa do projeto, será construída a rede de retweets, estruturada em forma de grafo e analisada.</p> <p>Relembrando que na modelagem da nossa rede estabelecemos que ela será direcionada e ponderada. Algumas informações básicas da rede de retweets:</p> <p>- Quantidade de nós: 1035<br>- Quantidade de arestas: 890<br>- Não é fortemente conectada<br>- Possui 161 redes fracamente conectadas</p> <figure><img alt="" src="https://cdn-images-1.medium.com/max/446/1*lAt5rbWIN4GQ5TxZiumHNQ.png"><figcaption>Fig. 7</figcaption></figure> <blockquote>Visualize o código através do <a href="https://github.com/bezerraescossia/network-analysis/blob/main/network.ipynb" rel="external nofollow noopener" target="_blank">repositório</a> ou execute você mesmo pelo <a href="https://colab.research.google.com/github/bezerraescossia/network-analysis/blob/main/network.ipynb" rel="external nofollow noopener" target="_blank">Colab</a> </blockquote> <h3>7.1 Out Degree</h3> <p>O Out degree de um nó (grau de saída em português), é uma das propriedades mais requisitadas na análise de redes para gráfico direcionais, e, nada mais é do que a quantidade de arestas que saem dele.</p> <p>Em nosso projeto indica a quantidade de usuários que o retweetaram, o grafo destacando o grau dos nós que saem, pode ser observado na figura abaixo:</p> <figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*kn3K2aEaSHuIohQSGku16g.png"><figcaption>Fig. 8</figcaption></figure> <p>E a lista dos top 10 Twitters com maiores conexões são:</p> <p>1. <a href="http://twitter.com/SigaGazetaBR" rel="external nofollow noopener" target="_blank">@SigaGazetaBR</a> — 189<br>2. <a href="http://twitter.com/brom_elisa" rel="external nofollow noopener" target="_blank">@brom_elisa</a> — 62<br>3. <a href="http://twitter.com/forumpandlr" rel="external nofollow noopener" target="_blank">@forumpandlr</a> — 56<br>4. <a href="http://twitter.com/folha" rel="external nofollow noopener" target="_blank">@folha</a> — 49<br>5. <a href="http://twitter.com/ibopeenquetes" rel="external nofollow noopener" target="_blank">@ibopeenquetes</a> — 40<br>6. <a href="http://twitter.com/jairleite096" rel="external nofollow noopener" target="_blank">@jairleite096</a>–33<br>7. <a href="http://twitter.com/TerraBrasilnot" rel="external nofollow noopener" target="_blank">@TerraBrasilnot</a> — 19<br>8. <a href="http://twitter.com/dep_padrejoao" rel="external nofollow noopener" target="_blank">@dep_padrejoao</a> — 19<br>9. <a href="http://twitter.com/BelaMegale" rel="external nofollow noopener" target="_blank">@BelaMegale</a> — 18<br>10. <a href="http://twitter.com/moreira_uallace" rel="external nofollow noopener" target="_blank">@moreira_uallace</a> — 14</p> <p>Note que, como esperado, os valores coincidem com o gráfico da figura.</p> <blockquote>Visualize o código através do <a href="https://github.com/bezerraescossia/network-analysis/blob/main/degree.ipynb" rel="external nofollow noopener" target="_blank">repositório</a> ou execute você mesmo pelo <a href="https://colab.research.google.com/github/bezerraescossia/network-analysis/blob/main/degree.ipynb" rel="external nofollow noopener" target="_blank">Colab</a> </blockquote> <h3>7.2 Betweenness Centrality</h3> <p>Muitos fenômenos que acontecem em redes são baseados em processos difusos. Exemplos incluem a transmissão da informação através da internet, o tráfego de produtos através de portos, ou a transmissão de uma epidemia por meio do contato físico entre indivíduos. Esses exemplos, criaram a necessidade o surgimento de uma outra noção de centralidade, chamada de betweenness. Nessa medida, um nó é mais central quanto mais frequente ele está envolvido nos processos.</p> <p>No contexto do nosso estudo, o grafo que representa essa medida pode ser visualizado na figura abaixo:</p> <figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*AXNpZikiyK-_Wfw6nZc_eA.png"><figcaption>Fig. 9</figcaption></figure> <p>Note que para essa rede, a grande maioria dos nós possuem <em>betweenness centrality</em> igual a 0, resultado esperado, uma vez que a rede não é fortemente conectado e possui 161 redes fracamente conectadas.</p> <p>Entretanto, 4 perfis do Twitter possuem essa medida de centralidade maior que zero, apesar de ainda serem valores baixo esse perfis podem ser estratégicos na distribuição de mensagens da rede. São eles:</p> <p>- <a href="http://twitter.com/JJRConservador" rel="external nofollow noopener" target="_blank">@JJRConservador</a> — 2.808668e-06<br>- <a href="http://twitter.com/NelsonR69631579" rel="external nofollow noopener" target="_blank">@NelsonR69631579</a>–1.872445e-06<br>- <a href="http://twitter.com/PATRlOTAS" rel="external nofollow noopener" target="_blank">@PATRlOTAS</a> — 9.362226e-07<br>- <a href="http://twitter.com/LilianaValente" rel="external nofollow noopener" target="_blank">@LilianaValente</a> — 9.362226e-07</p> <blockquote>Visualize o código através do <a href="https://github.com/bezerraescossia/network-analysis/blob/main/between.ipynb" rel="external nofollow noopener" target="_blank">repositório</a> ou execute você mesmo pelo <a href="https://colab.research.google.com/github/bezerraescossia/network-analysis/blob/main/between.ipynb" rel="external nofollow noopener" target="_blank">Colab</a> </blockquote> <h3>8. Deploy com Gephi</h3> <p>O Gephi é um software <em>open-source</em> para análise e visualização de redes. Através do <em>deploy</em> com o Gephi, é possível visualizar, manipular, obter métricas da rede de forma muito mais fácil e rápida. No link abaixo, é possível acessar ao <em>deploy</em> da rede estudada. É interessante observar a cor nessa representação, ela representa as comunidades, que é uma métrica que agrupa “<em>clusters</em>” em uma rede. É possível também, no mesmo link, filtrar a rede por comunidades, além de analisar a rede ego de um nó específico.</p> <blockquote>Acesse o <a href="https://bezerraescossia.github.io/other/network2/">link</a>, visualize e explore a rede de co-ocorrência trabalhada nesse artigo.</blockquote> <p><img src="https://medium.com/_/stat?event=post.clientViewed&amp;referrerSource=full_rss&amp;postId=81a7af14ee2" width="1" height="1" alt=""></p> </body></html>